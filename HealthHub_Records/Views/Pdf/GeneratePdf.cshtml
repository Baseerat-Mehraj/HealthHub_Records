@using Microsoft.AspNetCore.Http
@inject IHttpContextAccessor HttpContextAccessor
@{
    Layout = null;
    var userId = HttpContextAccessor.HttpContext.Session.GetInt32("UserId");

    @if (!userId.HasValue)
    {
        <script>
            window.location.href = '@Url.Action("Index", "Home")';
        </script>
    }
}

<!DOCTYPE html>
<html>
<head>
    <title>View PDF</title>
</head>
<body>
    <h1>View PDF</h1>
    <div>
        <embed src="@Url.Action("GeneratePdf", new { view = "true" })" width="800" height="600" type="application/pdf">
    </div>
    <p><a href="@Url.Action("GeneratePdf", new { view = "false" })" download>Download PDF</a></p>
</body>
</html>

